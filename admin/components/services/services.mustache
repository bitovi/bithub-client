<h1 class="admin-page-header">Services</h1>
<hr>
<form role="form">
	<div class="clearfix services-wrapper">
		<div class="col-xs-3">
			<ul class="nav nav-pills nav-stacked nav-services">
				{{#each services}}
					<li {{#ifTab this}}class="active"{{/ifTab}} can-click="switchTab" data-tab="{{ this }}">
						<a href="javascript://">
							<i class="fa fa-check {{#isActiveProvider this}}active-service{{/isActiveProvider}}"></i> {{ . }}
						</a>
					</li>
				{{/each}}
			</ul>
		</div>

		<div class="col-xs-9">
			{{#if isReloading}}
				<h1><i class="fa fa-refresh fa-spin"></i></h1>
			{{else}}

				{{#ifTab 'twitter'}}
					<h3>Twitter</h3>
					{{#isActiveProvider provider}}
						<p>Your Twitter account is connected!</p>
						<bh-multiselect title="Search Terms" items="brand.keywordList" selected-items="config.config.terms"></bh-multiselect>
					{{else}}
						<p>Connect your Twitter account.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} Twitter
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

				{{#ifTab 'github'}}
					<h3>GitHub</h3>
					{{#isActiveProvider provider}}
						<p>Your GitHub account is connected! Select repos and organizations you want to track:</p>
						<bh-multiselect title="Repos" items="identity.repos" selected-items="config.config.repos"></bh-multiselect>
						<bh-multiselect title="Organizations" items="identity.orgs" selected-items="config.config.orgs"></bh-multiselect>
					{{else}}
						<p>Connect your GitHub account and select repos you want to track.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} GitHub
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

				{{#ifTab 'facebook'}}
					<h3>FaceBook</h3>
					{{#isActiveProvider provider}}
						<p>Your Facebook account is connected! Select pages you want to track</p>
						<bh-multiselect title="Pages" items="identity.pages" selected-items="config.config.pages"></bh-multiselect>
					{{else}}
						<p>Connect your Facebook account and select pages you want to track.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} Facebook
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

				{{#ifTab 'disqus'}}
					<h3>Disqus</h3>
					{{#isActiveProvider provider}}
						<p>Your Disqus account is connected!</p>
						<bh-multiselect title="Forums" items="identity.forums" selected-items="config.config.forums"></bh-multiselect>
					{{else}}
						<p>Connect your Disqus account.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} Disqus
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

				{{#ifTab 'stackexchange'}}
					<h3>StackExchange</h3>
					{{#isActiveProvider provider}}
						<p>Your StackExchange account is connected!</p>
						<bh-multiselect title="Search Tags" items="brand.keywordList" selected-items="config.config.tags"></bh-multiselect>
					{{else}}
						<p>Connect your StackExchange account.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} StackExchange
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

				{{#ifTab 'meetup'}}
					<h3>Meetup</h3>
					{{#isActiveProvider provider}}
						<p>Your Meetup account is connected!</p>
						<bh-multiselect title="Groups" items="identity.groups" selected-items="config.config.groups"></bh-multiselect>
						<bh-multiselect title="Search Terms" items="brand.keywordList" selected-items="config.config.terms"></bh-multiselect>
					{{else}}
						<p>Connect your Meetup account.</p>
						<button class="btn btn-default" can-click="connectService" {{#isConnecting provider}}disabled{{/isConnecting}}>
							{{#isConnecting provider}}<i class="fa fa-refresh fa-spin"></i>{{/isConnecting}}
							Connect{{#isConnecting provider}}ing{{/isConnecting}} Meetup
						</button>
					{{/isActiveProvider}}
				{{/ifTab}}

					{{#ifTab 'rss'}}
						<h3>RSS</h3>
						<p>Add RSS URLs you want to track</p>
						<bh-item-list title="RSS URLs" items="config.config.urls"></bh-item-list>
					{{/ifTab}}

				
			{{/if}}
		</div>

	</div>

	<div class="row">
		<div class="col-xs-9 col-xs-offset-3 clearfix">
			{{#if hasSavedConfigs}}
				<div class="alert alert-info alert-dismissable">
					<button type="button" class="close" can-click="hideHasSavedConfigs">&times;</button>
					Service Configs are saved.
				</div>
			{{/if}}
			<button class="btn btn-primary pull-right" can-click="saveConfigs" {{#if isSavingConfigs}}disabled{{/if}}>
				{{#if isSavingConfigs}}
					<i class="fa fa-refresh fa-spin"></i>
					Saving ...
				{{else}}
					Save Service Configurations
				{{/if}}
			</button>
		</div>
	</div>
	
</form>